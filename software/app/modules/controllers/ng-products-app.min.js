var app = angular.module('app', ['ngRoute']);

app.config(function($routeProvider, $locationProvider) {
	$routeProvider.otherwise('/');
	
	$routeProvider
	.when('/', {
        // url: '/home',
        templateUrl: 'software/views/home.html',
        controller : 'home'
    })
	.when('/products', {
        // url: '/software',
        templateUrl: 'software/views/products.html',
        controller : 'products'
    })
	.when('/inprogress', {
        // url: '/inprogress',
        templateUrl: 'software/views/inprogress.html',
        controller : 'inprogress'
    })
	.when('/categories', {
        // url: '/categories',
        templateUrl: 'software/views/categories.html',
        controller : 'categories'
    })
	.when('/contactus', {
        // url: '/contactus',
        templateUrl: 'software/views/contactus.html',
        controller : 'contactus'
    })
	.when('/search', {
        // url: '/search',
        templateUrl: 'software/views/search.html'
    })

	.when('/product/:id/:title', {
        // url: '/product/:id/:title',
        templateUrl: 'software/views/single-product.html',
        controller : 'singleproduct'
    })

    .when('/notfound', {
        // url: '/notfound',
        templateUrl: 'software/views/notfound.html'
    })

    $locationProvider.html5Mode(true);
})
.run(['$rootScope', 'Products', function($rscp, p){
	$rscp.imgUrl = p.getImgUrl();
}])
.directive('loaderimg', function($timeout) {
    return {
        restrict:'A',
        scope: {},
        link: function(scope, elem, attrs) {
            $timeout(function(){ elem.attr('src', attrs.llSrc) });
        },
    };
})
.filter('to_trusted', ['$sce', function($sce) {
  return function(text) {
    return $sce.trustAsHtml(text);
  };
}]);
